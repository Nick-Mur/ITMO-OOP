# Торговый автомат

## Техническое задание

Нужно разработать консольное приложение, которое будет эмулировать вендинговый автомат, позволяющее пользователю:

1. Посмотреть список доступных товаров с их ценами и количеством.
2. Вставить монеты разных номиналов.
3. Выбрать товар и получить его, если внесённой суммы достаточно.
4. Получить сдачу (если нужно) и вернуть неиспользованные монеты при отмене операции.
5. Администраторский режим для пополнения ассортимента и сбора собранных средств.

## Как запустить

1. Установите .NET SDK версии 9.0: [https://dotnet.microsoft.com/download](https://dotnet.microsoft.com/download).
2. В командной строке перейдите в корневую папку проекта `ITMO-OOP` и восстановите зависимости: `dotnet restore`.
3. Соберите решение: `dotnet build`.
4. Запустите консольное приложение: `dotnet run --project VendingMachine.Console`.

## Об архитектуре

- **Domain** (`VendingMachine.Domain`) содержит абстрактные и конкретные сущности автомата:
    - товары (`ProductBase`, `Product`),
    - монеты (`CoinBase`, `Coin`),
    - ячейки с запасами (`InventorySlotBase`, `InventorySlot`),
    - кошелёк автомата (`WalletBase`, `Wallet`)
    - результат транзакции (`TransactionResultBase`, `TransactionResult`).
- **Application** (`VendingMachine.Application`) определяет базовые сервисы работы с запасами, платежами и комплексной
  логикой автомата.
- **Infrastructure** (`VendingMachine.Infrastructure`) содержит простые версии сервисов, которые работают без базы
  данных (in-memory).
  - VendingMachineService вызывает нужные операции и обращается к сервисам кошелька и запасов.
- **Console UI** (`VendingMachine.Console`) — консольная оболочка, демонстрирующая сценарии использования: отображение
  ассортимента, внесение монет, покупка, отмена, администрирование. 

## О тестировании

- Для проверки сценариев используется проект `VendingMachine.Tests` на базе xUnit. Тесты покрывают успешную покупку,
  отказ при недостатке средств и возврат монет при отмене.
- Запуск тестов осуществляется командой `dotnet test` из корня решения.
